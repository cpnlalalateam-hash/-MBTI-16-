<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¶ çŠ¬ã‚¿ã‚¤ãƒ—æ€§æ ¼è¨ºæ–­ï¼ˆMBTI 16ã‚¿ã‚¤ãƒ—ï¼‰</title>
<style>
body{
  font-family:'Noto Sans JP',sans-serif;
  background:#fff8f0;
  color:#333;
  margin:0;
  padding:0;
  text-align:center;
}
h1{
  background:#ffcb74;
  color:#4a3000;
  padding:15px;
  margin:0;
  font-size:1.6em;
  letter-spacing:1px;
}
section{
  padding:20px;
  max-width:700px;
  margin:auto;
}
.question{
  background:#fff;
  margin:15px 0;
  padding:15px;
  border-radius:12px;
  box-shadow:0 3px 10px rgba(0,0,0,0.1);
  text-align:left;
}
label{display:block;margin:8px 0;}
button{
  background:#ff9d00;
  color:#fff;
  border:none;
  padding:12px 24px;
  border-radius:8px;
  font-size:1em;
  cursor:pointer;
  margin:12px;
  box-shadow:0 4px 10px rgba(0,0,0,0.15);
}
button:hover{background:#ffb733;}
img.dog{
  width:100%;
  max-width:420px;
  height:auto;
  border-radius:16px;
  display:block;
  margin:16px auto;
  box-shadow:0 6px 18px rgba(0,0,0,0.15);
  object-fit:cover;
}
#result{display:none;}
#affinity-section{display:none;margin-top:20px;}
input[type=text]{padding:6px;border-radius:5px;border:1px solid #ccc;}
.share-buttons a{
  display:inline-block;
  margin:8px;
  text-decoration:none;
  background:#1da1f2;
  color:#fff;
  padding:8px 14px;
  border-radius:6px;
}
.share-buttons a:hover{opacity:0.8;}
</style>
</head>
<body>
<h1>ğŸ¶ çŠ¬ã‚¿ã‚¤ãƒ—æ€§æ ¼è¨ºæ–­ï¼ˆMBTI 16ã‚¿ã‚¤ãƒ—ï¼‰</h1>

<section id="quiz">
  <p>4ã¤ã®è³ªå•ã«ç­”ãˆã¦ã€ã‚ãªãŸã®ã€Œé­‚ã®çŠ¬ç¨®ã€ã‚’è¨ºæ–­ã—ã¾ã™ï¼</p>

  <div class="question">
    <p><strong>Q1. ä¼‘æ—¥ã¯ã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨â€¦</strong></p>
    <label><input type="radio" name="q1" value="E"> äººã¨ä¸€ç·’ã«éã”ã™ã®ãŒå¥½ãï¼ˆEï¼‰</label>
    <label><input type="radio" name="q1" value="I"> ä¸€äººã§ã®ã‚“ã³ã‚Šéã”ã—ãŸã„ï¼ˆIï¼‰</label>
  </div>

  <div class="question">
    <p><strong>Q2. æ–°ã—ã„ã“ã¨ã‚’å§‹ã‚ã‚‹ã¨ãã¯ï¼Ÿ</strong></p>
    <label><input type="radio" name="q2" value="S"> ç¾å®Ÿçš„ã«è¨ˆç”»ã‚’ç«‹ã¦ã¦è¡Œå‹•ã™ã‚‹ï¼ˆSï¼‰</label>
    <label><input type="radio" name="q2" value="N"> ç›´æ„Ÿã‚’ä¿¡ã˜ã¦ã¾ãšå‹•ã„ã¦ã¿ã‚‹ï¼ˆNï¼‰</label>
  </div>

  <div class="question">
    <p><strong>Q3. äººã¨è©±ã™ã¨ãã€ã©ã¡ã‚‰ã‚’é‡è¦–ã™ã‚‹ï¼Ÿ</strong></p>
    <label><input type="radio" name="q3" value="T"> è«–ç†çš„ã§æ­£ã—ã„ã“ã¨ï¼ˆTï¼‰</label>
    <label><input type="radio" name="q3" value="F"> ç›¸æ‰‹ã®æ°—æŒã¡ã‚„å…±æ„Ÿï¼ˆFï¼‰</label>
  </div>

  <div class="question">
    <p><strong>Q4. äºˆå®šã®ç«‹ã¦æ–¹ã¯ï¼Ÿ</strong></p>
    <label><input type="radio" name="q4" value="J"> ãã¡ã‚“ã¨è¨ˆç”»ã—ã¦é€²ã‚ãŸã„ï¼ˆJï¼‰</label>
    <label><input type="radio" name="q4" value="P"> çŠ¶æ³ã«åˆã‚ã›ã¦æŸ”è»Ÿã«å‹•ããŸã„ï¼ˆPï¼‰</label>
  </div>

  <p><input type="text" id="user-name" placeholder="åå‰ï¼ˆä»»æ„ï¼‰"></p>
  <button onclick="diagnose()">è¨ºæ–­ã™ã‚‹ğŸ¾</button>
</section>

<section id="result">
  <h2 id="diagnosed-name"></h2>
  <img id="dog-img" class="dog" src="" alt="">
  <h3 id="dog-catch"></h3>
  <p id="dog-detail"></p>
  <p><strong>ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—ã‚³ãƒ¼ãƒ‰ï¼š</strong><span id="my-type-code"></span></p>
  <button id="btn-reset" onclick="onReset()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ğŸ”</button>

  <div class="share-buttons">
    <a id="btn-share-x" target="_blank">Xã§ã‚·ã‚§ã‚¢</a>
    <a id="btn-download-image" download>ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a>
  </div>

  <div id="affinity-section">
    <h3>ğŸ¾ ç›¸æ€§è¨ºæ–­</h3>
    <p>ç›¸æ‰‹ã®ã‚¿ã‚¤ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šENFPï¼‰</p>
    <input type="text" id="partner-code" placeholder="ä¾‹: INFP">
    <button onclick="checkAffinity()">ç›¸æ€§ã‚’å ã†ğŸ’</button>
    <div id="affinity-result-text" style="margin-top:10px;"></div>
  </div>
</section>

<script>
const DOG_TYPES={
"ISTJ":{name:"ãƒ‰ãƒ¼ãƒ™ãƒ«ãƒãƒ³",catch:"è¦å¾‹ã‚’é‡ã‚“ã˜ã‚‹è«–ç†çš„ãªå®ˆè­·çŠ¬",detail:"å¿ èª å¿ƒã¨è«–ç†æ€§ã®å¡Šã€‚ä¿¡é ¼ã—ãŸç›¸æ‰‹ã‚’ç”Ÿæ¶¯å®ˆã‚ŠæŠœãã€‚",img:"https://cdn.pixabay.com/photo/2016/03/27/18/10/doberman-1283814_1920.jpg",affinity:["ENFP","ISFP","ESTP"],conflict:["INFP","ENFJ"]},
"ESTJ":{name:"ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ»ã‚·ã‚§ãƒ‘ãƒ¼ãƒ‰",catch:"ç¾¤ã‚Œã‚’ç‡ã„ã‚‹çµ±ç‡çŠ¬",detail:"ç¾å®Ÿçš„ã§é ¼ã‚‚ã—ã„ãƒªãƒ¼ãƒ€ãƒ¼ã€‚ç§©åºã¨è²¬ä»»ã‚’é‡ã‚“ã˜ã‚‹ã€‚",img:"https://cdn.pixabay.com/photo/2019/08/23/19/45/german-shepherd-4425230_1920.jpg",affinity:["ISFP","INFP","ESTJ"],conflict:["INFJ","ENTP"]},
"ISTP":{name:"ã‚¸ãƒ£ãƒƒã‚¯ãƒ»ãƒ©ãƒƒã‚»ãƒ«ãƒ»ãƒ†ãƒªã‚¢",catch:"ç¬ç™ºåŠ›ã¨å¥½å¥‡å¿ƒã®ç‹¬ç«‹è€…",detail:"ãƒ«ãƒ¼ãƒ«ã«ç¸›ã‚‰ã‚Œãšã€ç¾å ´å¯¾å¿œåŠ›ã§ä¸–ç•Œã‚’æ¸¡ã‚‹å†’é™ºå®¶ã€‚",img:"https://cdn.pixabay.com/photo/2017/02/15/12/12/jack-russell-2063951_1920.jpg",affinity:["ESFJ","ISTP","ENTP"],conflict:["ENFJ","INFJ"]},
"ESTP":{name:"ãƒœã‚¯ã‚µãƒ¼",catch:"è¡Œå‹•ç¬¬ä¸€ã®ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼",detail:"ç¬ç™ºåŠ›ã¨å‹¢ã„ã§å‘¨å›²ã‚’å¼•ã£å¼µã‚‹ã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªçŠ¬ã€‚",img:"https://cdn.pixabay.com/photo/2015/03/26/09/41/boxer-690566_1920.jpg",affinity:["ISTJ","ISFP","ESFP"],conflict:["INFP","INTJ"]},
"INFP":{name:"ãƒãƒ¯ãƒ¯",catch:"é™ã‹ã«ä¸–ç•Œã‚’æƒ³ã†ç†æƒ³ã®è©©äºº",detail:"å°ã•ãªä½“ã«å¤§ããªç†æƒ³ã‚’ç§˜ã‚ã‚‹ã€ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆçŠ¬ã€‚",img:"https://cdn.pixabay.com/photo/2015/02/05/12/09/chihuahua-624924_1920.jpg",affinity:["ENFJ","ENTP","INFP"],conflict:["ESTJ","ESTP"]},
"ENFP":{name:"ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ãƒ»ãƒ¬ãƒˆãƒªãƒãƒ¼",catch:"ç„¡é™ã®æ„›ã‚’é…ã‚‹å¤ªé™½çŠ¬",detail:"äººæ‡ã£ã“ãå‰å‘ãã€‚ç¾¤ã‚Œã«æ´»æ°—ã¨ç¬‘é¡”ã‚’ã‚‚ãŸã‚‰ã™å­˜åœ¨ã€‚",img:"https://cdn.pixabay.com/photo/2017/06/20/19/22/dog-2424329_1920.jpg",affinity:["ISTJ","INFJ","ENTJ"],conflict:["ISTP","ESTP"]},
"INFJ":{name:"æŸ´çŠ¬",catch:"é™ã‹ãªæ´å¯ŸåŠ›ã®æŒã¡ä¸»",detail:"èª å®Ÿã§ä¿¡å¿µã«ç”Ÿãã‚‹ã€‚å¿ƒã‚’è¨±ã—ãŸç›¸æ‰‹ã«ã ã‘å°»å°¾ã‚’æŒ¯ã‚‹ã€‚",img:"https://cdn.pixabay.com/photo/2020/03/08/17/37/shiba-4912505_1920.jpg",affinity:["ENFP","ENTP","INFJ"],conflict:["ESTJ","ESTP"]},
"ENFJ":{name:"ãƒ©ãƒ–ãƒ©ãƒ‰ãƒ¼ãƒ«ãƒ»ãƒ¬ãƒˆãƒªãƒãƒ¼",catch:"ç¾¤ã‚Œã‚’å°ãèª¿å’Œã®ç•ªçŠ¬",detail:"å„ªã—ã•ã¨åŒ…å®¹åŠ›ã§ã€å‘¨å›²ã‚’ã¾ã¨ã‚ã‚‹ãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚",img:"https://cdn.pixabay.com/photo/2017/09/25/13/12/labrador-2785074_1920.jpg",affinity:["INFP","INTJ","ENFJ"],conflict:["ISTP","ESTP"]},
"INTJ":{name:"ãƒ­ãƒƒãƒˆãƒ¯ã‚¤ãƒ©ãƒ¼",catch:"å­¤é«˜ã®æˆ¦ç•¥å®¶",detail:"æ„Ÿæƒ…ã«æµã•ã‚Œãšæœªæ¥ã‚’è¦‹æ®ãˆã‚‹ã€çŸ¥çš„ãªç•ªçŠ¬ã€‚",img:"https://cdn.pixabay.com/photo/2016/03/27/18/10/rottweiler-1283813_1920.jpg",affinity:["ENFJ","ENTP","INFP"],conflict:["ESFP","ESTP"]},
"ENTJ":{name:"ãƒ¯ã‚¤ãƒãƒ©ãƒŠãƒ¼",catch:"ç›®æ¨™é”æˆã®é¬¼",detail:"åŠ¹ç‡ã¨æˆæœã‚’è¿½æ±‚ã™ã‚‹æŒ‡æ®å®˜ã€‚å¼·ã„æ„å¿—ã§ç¾¤ã‚Œã‚’å°ãã€‚",img:"https://cdn.pixabay.com/photo/2018/03/11/20/38/weimaraner-3215989_1920.jpg",affinity:["INFP","INTJ","ENTJ"],conflict:["ISFP","ESFP"]},
"INTP":{name:"ã‚¢ãƒ•ã‚¬ãƒ³ãƒ»ãƒã‚¦ãƒ³ãƒ‰",catch:"çŸ¥è­˜ã®æ¢æ±‚è€…",detail:"ç¾ã¨ç†è«–ã‚’æ„›ã™ã‚‹æ€ç´¢çŠ¬ã€‚è‡ªåˆ†ã®ä¸–ç•Œã«æ·±ãæ½œã‚‹ã€‚",img:"https://cdn.pixabay.com/photo/2014/12/11/17/09/afghan-hound-564008_1920.jpg",affinity:["ESFJ","ENTP","INTP"],conflict:["ESTJ","ESFP"]},
"ENTP":{name:"ãƒ—ãƒ¼ãƒ‰ãƒ«",catch:"è­°è«–ã‚’æ¥½ã—ã‚€çŸ¥çš„é©å‘½çŠ¬",detail:"ç‹¬å‰µçš„ã§å¥½å¥‡å¿ƒæ—ºç››ã€‚å¸¸ã«æ–°ã—ã„éŠã³ã‚’ç”Ÿã¿å‡ºã™ã€‚",img:"https://cdn.pixabay.com/photo/2015/03/26/09/41/poodle-690551_1920.jpg",affinity:["ISTJ","INFJ","ENFP"],conflict:["ISFJ","ESFJ"]},
"ISFJ":{name:"ã‚­ãƒ£ãƒãƒªã‚¢",catch:"ç¾¤ã‚Œã®èª¿å’Œã‚’å®ˆã‚‹çŒ®èº«çŠ¬",detail:"æ¸©åšã§é¢å€’è¦‹ãŒè‰¯ãã€çš†ã®å¿ƒã‚’ç™’ã‚„ã™å­˜åœ¨ã€‚",img:"https://cdn.pixabay.com/photo/2015/03/26/09/41/cavalier-690566_1920.jpg",affinity:["ESFP","ISTP","ISFJ"],conflict:["ENTP","INTJ"]},
"ESFJ":{name:"ãƒãƒ«ãƒãƒ¼ã‚º",catch:"ç¤¾äº¤çš„ãªå¥³ç‹çŠ¬",detail:"æ„›ã•ã‚Œä¸Šæ‰‹ã§èª°ã¨ã§ã‚‚ä»²è‰¯ããªã‚Œã‚‹ç¤¾äº¤ç•Œã®ã‚¹ã‚¿ãƒ¼ã€‚",img:"https://cdn.pixabay.com/photo/2016/02/19/10/00/maltese-1209621_1920.jpg",affinity:["ISTP","INTP","ESFP"],conflict:["ENTP","INTJ"]},
"ISFP":{name:"ãƒ‘ã‚°",catch:"ãƒã‚¤ãƒšãƒ¼ã‚¹ãªèŠ¸è¡“å®¶çŠ¬",detail:"äº”æ„Ÿã¨æ„Ÿæ€§ã‚’ä¿¡ã˜ã¦è‡ªç”±ã«ç”Ÿãã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã€‚",img:"https://cdn.pixabay.com/photo/2016/03/27/18/10/pug-1283815_1920.jpg",affinity:["ESTJ","ENTJ","ISFP"],conflict:["ENFJ","INFJ"]},
"ESFP":{name:"ãƒ€ãƒ«ãƒ¡ã‚·ã‚¢ãƒ³",catch:"æ³¨ç›®ã‚’é›†ã‚ã‚‹ã‚¹ã‚¿ãƒ¼çŠ¬",detail:"æ¥½ã—ã„ã“ã¨ãŒå¤§å¥½ãã€‚å ´ã®é›°å›²æ°—ã‚’æ˜ã‚‹ãã™ã‚‹å¤©æ‰ã€‚",img:"https://cdn.pixabay.com/photo/2016/02/19/10/00/dalmatian-1209621_1920.jpg",affinity:["ISTP","ISFJ","ESTP"],conflict:["INTJ","ENTJ"]}
};

function diagnose(){
 const answers={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
 for(let i=1;i<=4;i++){
   const c=document.querySelector(`input[name="q${i}"]:checked`);
   if(c){answers[c.value]++;}else{
     alert("âš ï¸ å…¨ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚");return;
   }
 }
 const code=`${answers.E>=answers.I?'E':'I'}${answers.S>=answers.N?'S':'N'}${answers.T>=answers.F?'T':'F'}${answers.J>=answers.P?'J':'P'}`;
 const type=DOG_TYPES[code];
 const user=document.getElementById("user-name").value||"ã‚ãªãŸ";
 document.getElementById("diagnosed-name").textContent=`${user}ã•ã‚“ã®é­‚ã®çŠ¬ç¨®ã¯ã€${type.name}ã€‘`;
 document.getElementById("dog-img").src=type.img;
 document.getElementById("dog-img").alt=type.name;
 document.getElementById("dog-catch").textContent=type.catch;
 document.getElementById("dog-detail").textContent=type.detail;
 document.getElementById("my-type-code").textContent=code;
 document.getElementById("quiz").style.display="none";
 document.getElementById("result").style.display="block";
 document.getElementById("affinity-section").style.display="block";
 localStorage.setItem("myDogType",code);

 const shareText=encodeURIComponent(`${user}ã•ã‚“ã®çŠ¬ã‚¿ã‚¤ãƒ—ã¯ã€${type.name}ã€‘(${code}) ğŸ¶`);
 document.getElementById("btn-share-x").href=`https://twitter.com/intent/tweet?text=${shareText}&url=${encodeURIComponent(location.href)}`;
 const dl=document.getElementById("btn-download-image");
 dl.href=type.img;
 dl.download=`${code}_${type.name}.jpg`;
}

function checkAffinity(){
 const myCode=localStorage.getItem("myDogType");
 const partnerCode=document.getElementById("partner-code").value.toUpperCase().trim();
 const resultText=document.getElementById("affinity-result-text");
 if(!DOG_TYPES[partnerCode]){resultText.innerHTML="<span style='color:red;'>âš ï¸ æ­£ã—ã„ã‚¿ã‚¤ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</span>";return;}
 const myType=DOG_TYPES[myCode];
 const partnerType=DOG_TYPES[partnerCode];
 let msg="";
 if(myType.affinity.includes(partnerCode)){msg="<span style='color:#d04040;'>å¥‡è·¡ã®ã‚³ãƒ³ãƒ“ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼</span><br>ãŠäº’ã„ã®é•·æ‰€ã‚’ä¼¸ã°ã™ç†æƒ³ã®é–¢ä¿‚ã€‚";}
 else if(myType.conflict.includes(partnerCode)){msg="<span style='color:#333;'>æ¿€çªã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ...</span><br>ä¾¡å€¤è¦³ãŒçœŸé€†ã§è¡çªã—ã‚„ã™ã„é–¢ä¿‚ã€‚";}
 else if(myCode===partnerCode){msg="<span style='color:#008000;'>å…±é³´ã™ã‚‹ç›Ÿå‹ï¼</span><br>åŒã˜é­‚ã‚’æŒã¤ç†è§£è€…ã€‚";}
 else{msg="<span style='color:#4682b4;'>ç©ã‚„ã‹ãªé€£æºã€‚</span><br>ç„¡ç†ãªãä»˜ãåˆãˆã‚‹é–¢ä¿‚ã€‚";}
 resultText.innerHTML=`<strong>${myType.name}</strong> ã¨ <strong>${partnerCode} (${partnerType.name})</strong> ã®ç›¸æ€§ï¼š<br>${msg}`;
}

function onReset(){
 document.getElementById("quiz").style.display="block";
 document.getElementById("result").style.display="none";
 document.getElementById("affinity-section").style.display="none";
 document.querySelectorAll("input[type=radio]").forEach(r=>r.checked=false);
 document.getElementById("user-name").value="";
 document.getElementById("partner-code").value="";
 document.getElementById("affinity-result-text").innerHTML="";
 localStorage.removeItem("myDogType");
}

document.addEventListener("DOMContentLoaded",()=>{onReset();});
</script>
</body>
</html>
